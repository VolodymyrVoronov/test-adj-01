import{r as S,j as u,P as D,c as g,b as N,u as q,a as H}from"./index-CyiMTvcn.js";import{c as J}from"./index-C4P-CtAG.js";var _="Progress",C=100,[K]=J(_),[Q,W]=K(_),V=S.forwardRef((t,e)=>{const{__scopeProgress:a,value:r=null,max:s,getValueLabel:i=Y,...l}=t;(s||s===0)&&!I(s)&&console.error(Z(`${s}`,"Progress"));const o=I(s)?s:C;r!==null&&!L(r,o)&&console.error(ee(`${r}`,"Progress"));const n=L(r,o)?r:null,c=E(n)?i(n,o):void 0;return u.jsx(Q,{scope:a,value:n,max:o,children:u.jsx(D.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":E(n)?n:void 0,"aria-valuetext":c,role:"progressbar","data-state":F(n,o),"data-value":n??void 0,"data-max":o,...l,ref:e})})});V.displayName=_;var k="ProgressIndicator",A=S.forwardRef((t,e)=>{const{__scopeProgress:a,...r}=t,s=W(k,a);return u.jsx(D.div,{"data-state":F(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});A.displayName=k;function Y(t,e){return`${Math.round(t/e*100)}%`}function F(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function E(t){return typeof t=="number"}function I(t){return E(t)&&!isNaN(t)&&t>0}function L(t,e){return E(t)&&!isNaN(t)&&t<=e&&t>=0}function Z(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C}\`.`}function ee(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var te=V,re=A;function se(t){const e=g.c(12);let a,r,s;e[0]!==t?({className:a,value:s,...r}=t,e[0]=t,e[1]=a,e[2]=r,e[3]=s):(a=e[1],r=e[2],s=e[3]);let i;e[4]!==a?(i=N("bg-muted h-1 rounded-full relative flex w-full items-center overflow-x-hidden",a),e[4]=a,e[5]=i):i=e[5];const l=`translateX(-${100-(s||0)}%)`;let o;e[6]!==l?(o=u.jsx(re,{"data-slot":"progress-indicator",className:"bg-primary size-full flex-1 transition-all",style:{transform:l}}),e[6]=l,e[7]=o):o=e[7];let n;return e[8]!==r||e[9]!==i||e[10]!==o?(n=u.jsx(te,{"data-slot":"progress",className:i,...r,children:o}),e[8]=r,e[9]=i,e[10]=o,e[11]=n):n=e[11],n}function ae(t){if(!Number.isFinite(t)||t<0)return"0:00";const e=Math.floor(t),a=Math.floor(e/60),r=e%60;return`${a}:${r.toString().padStart(2,"0")}`}const X=S.createContext(null);function M(){const t=S.useContext(X);if(!t)throw new Error("useScrubBarContext must be used within a ScrubBar.Root");return t}function O(t){const e=g.c(25);let a,r,s,i,l,o,n,c;e[0]!==t?({duration:s,value:c,onScrub:i,onScrubStart:o,onScrubEnd:l,children:a,className:r,...n}=t,e[0]=t,e[1]=a,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=o,e[7]=n,e[8]=c):(a=e[1],r=e[2],s=e[3],i=e[4],l=e[5],o=e[6],n=e[7],c=e[8]);const x=s>0?c/s*100:0;let b;e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==o||e[13]!==x||e[14]!==c?(b={duration:s,value:c,progress:x,onScrub:i,onScrubStart:o,onScrubEnd:l},e[9]=s,e[10]=i,e[11]=l,e[12]=o,e[13]=x,e[14]=c,e[15]=b):b=e[15];const f=b;let d;e[16]!==r?(d=N("flex w-full items-center",r),e[16]=r,e[17]=d):d=e[17];let m;e[18]!==a||e[19]!==n||e[20]!==d?(m=u.jsx("div",{"data-slot":"scrub-bar-root",className:d,...n,children:a}),e[18]=a,e[19]=n,e[20]=d,e[21]=m):m=e[21];let p;return e[22]!==f||e[23]!==m?(p=u.jsx(X.Provider,{value:f,children:m}),e[22]=f,e[23]=m,e[24]=p):p=e[24],p}O.displayName="ScrubBarContainer";function G(t){const e=g.c(21);let a,r,s;e[0]!==t?({className:r,children:a,...s}=t,e[0]=t,e[1]=a,e[2]=r,e[3]=s):(a=e[1],r=e[2],s=e[3]);const i=S.useRef(null),{duration:l,onScrub:o,onScrubStart:n,onScrubEnd:c,value:x}=M();let b;e[4]!==l?(b=y=>{const P=i.current;if(!P||!l)return null;const w=P.getBoundingClientRect(),$=(y-w.left)/w.width,T=Math.min(Math.max($,0),1);return l*T},e[4]=l,e[5]=b):b=e[5];const f=b;let d;e[6]!==l||e[7]!==f||e[8]!==o||e[9]!==c||e[10]!==n?(d=y=>{if(!l)return;y.preventDefault(),n?.();const P=f(y.clientX);P!=null&&o?.(P);const w=T=>{const R=f(T.clientX);R!=null&&o?.(R)},$=()=>{c?.(),window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",$)};window.addEventListener("pointermove",w),window.addEventListener("pointerup",$,{once:!0})},e[6]=l,e[7]=f,e[8]=o,e[9]=c,e[10]=n,e[11]=d):d=e[11];const m=d,p=Math.min(Math.max(x,0),l||0);let v;e[12]!==r?(v=N("bg-secondary relative h-2 w-full grow cursor-pointer touch-none rounded-full transition-none select-none",r),e[12]=r,e[13]=v):v=e[13];const h=l||0;let j;return e[14]!==a||e[15]!==p||e[16]!==m||e[17]!==s||e[18]!==v||e[19]!==h?(j=u.jsx("div",{ref:i,"data-slot":"scrub-bar-track",className:v,onPointerDown:m,role:"slider","aria-valuemin":0,"aria-valuemax":h,"aria-valuenow":p,...s,children:a}),e[14]=a,e[15]=p,e[16]=m,e[17]=s,e[18]=v,e[19]=h,e[20]=j):j=e[20],j}G.displayName="ScrubBarTrack";function U(t){const e=g.c(9);let a,r;e[0]!==t?({className:a,...r}=t,e[0]=t,e[1]=a,e[2]=r):(a=e[1],r=e[2]);const{progress:s}=M();let i;e[3]!==a?(i=N("absolute h-full [&>div]:transition-none",a),e[3]=a,e[4]=i):i=e[4];let l;return e[5]!==s||e[6]!==r||e[7]!==i?(l=u.jsx(se,{"data-slot":"scrub-bar-progress",value:s,className:i,...r}),e[5]=s,e[6]=r,e[7]=i,e[8]=l):l=e[8],l}U.displayName="ScrubBarProgress";function z(t){const e=g.c(13);let a,r,s;e[0]!==t?({className:r,children:a,...s}=t,e[0]=t,e[1]=a,e[2]=r,e[3]=s):(a=e[1],r=e[2],s=e[3]);const{progress:i}=M();let l;e[4]!==r?(l=N("bg-primary absolute top-1/2 block h-4 w-4 -translate-x-1/2 -translate-y-1/2 rounded-full transition-colors disabled:pointer-events-none disabled:opacity-50",r),e[4]=r,e[5]=l):l=e[5];const o=`${i}%`;let n;e[6]!==o?(n={left:o},e[6]=o,e[7]=n):n=e[7];let c;return e[8]!==a||e[9]!==s||e[10]!==l||e[11]!==n?(c=u.jsx("div",{"data-slot":"scrub-bar-thumb",className:l,style:n,...s,children:a}),e[8]=a,e[9]=s,e[10]=l,e[11]=n,e[12]=c):c=e[12],c}z.displayName="ScrubBarThumb";function B(t){const e=g.c(14);let a,r,s,i;e[0]!==t?({className:a,time:i,format:s,...r}=t,e[0]=t,e[1]=a,e[2]=r,e[3]=s,e[4]=i):(a=e[1],r=e[2],s=e[3],i=e[4]);const l=s===void 0?ae:s;let o;e[5]!==a?(o=N("tabular-nums",a),e[5]=a,e[6]=o):o=e[6];let n;e[7]!==l||e[8]!==i?(n=l(i),e[7]=l,e[8]=i,e[9]=n):n=e[9];let c;return e[10]!==r||e[11]!==o||e[12]!==n?(c=u.jsx("span",{"data-slot":"scrub-bar-time-label",...r,className:o,children:n}),e[10]=r,e[11]=o,e[12]=n,e[13]=c):c=e[13],c}B.displayName="ScrubBarTimeLabel";const ie=t=>{const e=g.c(20),{scheduleFromTimeline:a}=t,[r,s,i]=q(H(le)),[l,o]=S.useState(!1);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("label",{htmlFor:"scrub-bar",className:"text-sm font-medium",children:"Timeline"}),e[0]=n):n=e[0];let c;e[1]!==a||e[2]!==i?(c=h=>{a(h),i(h)},e[1]=a,e[2]=i,e[3]=c):c=e[3];let x,b;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=()=>o(!0),b=()=>o(!1),e[4]=x,e[5]=b):(x=e[4],b=e[5]);let f;e[6]!==r?(f=u.jsx(B,{time:r}),e[6]=r,e[7]=f):f=e[7];let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(U,{}),e[8]=d):d=e[8];let m;e[9]!==l?(m=u.jsxs(G,{className:"mx-2",children:[d,u.jsx(z,{className:"bg-primary","data-scrubbing":l})]}),e[9]=l,e[10]=m):m=e[10];let p;e[11]!==s?(p=u.jsx(B,{time:s}),e[11]=s,e[12]=p):p=e[12];let v;return e[13]!==c||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==r||e[18]!==s?(v=u.jsxs("div",{className:"flex w-full flex-col gap-2",children:[n,u.jsxs(O,{id:"scrub-bar",duration:s,value:r,onScrub:c,onScrubStart:x,onScrubEnd:b,className:"flex flex-row gap-2",children:[f,m,p]})]}),e[13]=c,e[14]=f,e[15]=m,e[16]=p,e[17]=r,e[18]=s,e[19]=v):v=e[19],v};function le(t){return[t.timelinePos,t.totalDuration,t.setTimelinePos]}export{ie as default};
