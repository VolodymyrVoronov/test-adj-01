import{d as $,c as y,b as j,j as r,e as z,u as S,a as A,I as C,f as U,g as R,h as V,i as q,D as B}from"./index-CyiMTvcn.js";import{B as w}from"./button-D2Aa-sMn.js";import{P as I}from"./play-BsXScucq.js";const _=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],F=$("arrow-down",_);const H=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],L=$("arrow-up",H);const X=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G=$("x",X);function J(i){const e=y.c(8);let s,t;e[0]!==i?({className:s,...t}=i,e[0]=i,e[1]=s,e[2]=t):(s=e[1],t=e[2]);let n;e[3]!==s?(n=j("gap-4 rounded-lg border-dashed p-6 flex w-full min-w-0 flex-1 flex-col items-center justify-center text-center text-balance",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==t||e[6]!==n?(l=r.jsx("div",{"data-slot":"empty",className:n,...t}),e[5]=t,e[6]=n,e[7]=l):l=e[7],l}function K(i){const e=y.c(8);let s,t;e[0]!==i?({className:s,...t}=i,e[0]=i,e[1]=s,e[2]=t):(s=e[1],t=e[2]);let n;e[3]!==s?(n=j("gap-2 flex max-w-sm flex-col items-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==t||e[6]!==n?(l=r.jsx("div",{"data-slot":"empty-header",className:n,...t}),e[5]=t,e[6]=n,e[7]=l):l=e[7],l}const O=z("mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-8 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-4"}},defaultVariants:{variant:"default"}});function Q(i){const e=y.c(11);let s,t,n;e[0]!==i?({className:s,variant:n,...t}=i,e[0]=i,e[1]=s,e[2]=t,e[3]=n):(s=e[1],t=e[2],n=e[3]);const l=n===void 0?"default":n;let m;e[4]!==s||e[5]!==l?(m=j(O({variant:l,className:s})),e[4]=s,e[5]=l,e[6]=m):m=e[6];let c;return e[7]!==t||e[8]!==m||e[9]!==l?(c=r.jsx("div",{"data-slot":"empty-icon","data-variant":l,className:m,...t}),e[7]=t,e[8]=m,e[9]=l,e[10]=c):c=e[10],c}function W(i){const e=y.c(8);let s,t;e[0]!==i?({className:s,...t}=i,e[0]=i,e[1]=s,e[2]=t):(s=e[1],t=e[2]);let n;e[3]!==s?(n=j("text-sm font-medium tracking-tight",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==t||e[6]!==n?(l=r.jsx("div",{"data-slot":"empty-title",className:n,...t}),e[5]=t,e[6]=n,e[7]=l):l=e[7],l}function Y(i){const e=y.c(8);let s,t;e[0]!==i?({className:s,...t}=i,e[0]=i,e[1]=s,e[2]=t):(s=e[1],t=e[2]);let n;e[3]!==s?(n=j("text-sm/relaxed text-muted-foreground [&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==t||e[6]!==n?(l=r.jsx("div",{"data-slot":"empty-description",className:n,...t}),e[5]=t,e[6]=n,e[7]=l):l=e[7],l}const ie=i=>{const e=y.c(21),{startTimelineRef:s}=i,[t,n,l,m,c,b,N]=S(A(Z));let p,x,h;if(e[0]!==n||e[1]!==m||e[2]!==N||e[3]!==b||e[4]!==c||e[5]!==s||e[6]!==l||e[7]!==t){h=Symbol.for("react.early_return_sentinel");e:{const P=a=>{if(t.findIndex(f=>f.id===a)===-1)return;let d=s.current,v=!1;for(let f=0;f<t.length;f++){const u=t[f];if(d+u.duration>l){u.id===a&&m&&(v=!0);break}d=d+u.duration}if(!v){const f=t.filter(E=>E.id!==a);c(f);const u=f.reduce(ee,0);b(u),l>u&&(N(u),s.current=u)}};let k;e[11]!==c||e[12]!==t?(k=a=>{if(a===0)return;const o=[...t],[d,v]=[o[a],o[a-1]];o[a-1]=d,o[a]=v,c(o)},e[11]=c,e[12]=t,e[13]=k):k=e[13];const D=k;let T;e[14]!==c||e[15]!==t?(T=a=>{if(a===t.length-1)return;const o=[...t],[d,v]=[o[a],o[a+1]];o[a+1]=d,o[a]=v,c(o)},e[14]=c,e[15]=t,e[16]=T):T=e[16];const M=T;if(t.length===0){let a;e[17]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsxs(J,{children:[r.jsx(Q,{variant:"icon",children:r.jsx(B,{className:"animate-spin"})}),r.jsx(K,{children:"No tracks found"}),r.jsx(W,{children:"Upload some audio files"}),r.jsx(Y,{children:'Start by uploading some audio files. Find the "Upload" button at the top of the page.'})]}),e[17]=a):a=e[17],h=a;break e}p="h-svh space-y-2 overflow-auto",x=t.map((a,o)=>{const d=n===o;return r.jsxs(C,{variant:"outline",children:[r.jsx(U,{variant:"icon",children:d&&r.jsx(I,{className:"animate-pulse"})}),r.jsx(R,{children:r.jsx(V,{children:a.file.name})}),r.jsxs(q,{children:[r.jsx(w,{size:"icon-sm",disabled:d,onClick:()=>P(a.id),title:`Delete ${a.file.name}`,variant:"destructive",children:r.jsx(G,{})}),r.jsx(w,{size:"icon-sm",disabled:o===0||d,onClick:()=>D(o),title:`Move ${a.file.name} up`,children:r.jsx(L,{})}),r.jsx(w,{size:"icon-sm",disabled:o===t.length-1||d,onClick:()=>M(o),title:`Move ${a.file.name} down`,children:r.jsx(F,{})})]})]},a.id)})}e[0]=n,e[1]=m,e[2]=N,e[3]=b,e[4]=c,e[5]=s,e[6]=l,e[7]=t,e[8]=p,e[9]=x,e[10]=h}else p=e[8],x=e[9],h=e[10];if(h!==Symbol.for("react.early_return_sentinel"))return h;let g;return e[18]!==p||e[19]!==x?(g=r.jsx("div",{className:p,children:x}),e[18]=p,e[19]=x,e[20]=g):g=e[20],g};function Z(i){return[i.tracks,i.currentTrackIndex,i.timelinePos,i.isPlaying,i.setTracks,i.setTotalDuration,i.setTimelinePos]}function ee(i,e){return i+e.duration}export{ie as default};
