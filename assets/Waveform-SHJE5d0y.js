import{c as R,u as v,a as y,r as E,j as S}from"./index-CyiMTvcn.js";const D=()=>{const t=R.c(6),[l,n,s]=v(y(b)),u=E.useRef(null);let a,c;if(t[0]!==s||t[1]!==l||t[2]!==n?(a=()=>{if(!u.current||!n.length)return;const h=u.current,r=h.getContext("2d");if(!r)return;const m=h.width,g=h.height,p=[];n.forEach(f=>{const o=f.buffer.getChannelData(0),d=Math.ceil(o.length/(m/n.length));for(let e=0;e<o.length;e=e+d,e)p.push(o[e])});const x=()=>{r.clearRect(0,0,m,g);const f=g/2,o=Math.floor(s/l*m);p.forEach((d,e)=>{const w=d*f;e<=o?r.fillStyle="#8B5CF6":r.fillStyle="rgba(139,92,246,0.3)",r.fillRect(e,f-w,1,w*2)}),requestAnimationFrame(x)};x()},c=[n,s,l],t[0]=s,t[1]=l,t[2]=n,t[3]=a,t[4]=c):(a=t[3],c=t[4]),E.useEffect(a,c),!n.length)return null;let i;return t[5]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx("canvas",{ref:u,width:800,height:100,className:"w-full rounded-2xl border"}),t[5]=i):i=t[5],i};function b(t){return[t.totalDuration,t.tracks,t.timelinePos]}export{D as default};
