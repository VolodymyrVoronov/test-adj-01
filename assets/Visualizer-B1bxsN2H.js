import{c as T,u as X,a as Y,r as I,j as v}from"./index-CyiMTvcn.js";import{B as J}from"./button-D2Aa-sMn.js";import{B as Z}from"./button-group-2NiFiuYw.js";const re=t=>{const e=T.c(46),{analyserRef:a}=t,[s,o,V,E,j,l,u]=X(Y(ee)),k=I.useRef(null);let B;e[0]!==o?(B=()=>{switch(o){case"sunset":return["rgba(255,94,0,","rgba(255,195,113,0.15)","rgba(255,94,0,0.6)"];case"ocean":return["rgba(0,123,255,","rgba(0,200,255,0.15)","rgba(0,123,255,0.6)"];default:return["rgba(139,92,246,","rgba(59,130,246,0.15)","rgba(139,92,246,0.6)"]}},e[0]=o,e[1]=B):B=e[1];const n=B;let P;e[2]!==a||e[3]!==u?(P=()=>{if(!a||!a.current)return;const c=a.current;if(!c)return;const r=new Uint8Array(c.frequencyBinCount);let b;const w=()=>{c.getByteFrequencyData(r);const q=r.reduce(te,0);u(q/(r.length*255)),b=requestAnimationFrame(w)};return w(),()=>cancelAnimationFrame(b)},e[2]=a,e[3]=u,e[4]=P):P=e[4];let R;e[5]!==a||e[6]!==u||e[7]!==s?(R=[a,u,s],e[5]=a,e[6]=u,e[7]=s,e[8]=R):R=e[8],I.useEffect(P,R);let $,A;e[9]!==E||e[10]!==j||e[11]!==s?($=()=>{if(!k||!k.current||!s.length)return;const c=k.current,r=c.getContext("2d");if(!r)return;const b=c.width,w=c.height,q=[];s.forEach(z=>{const C=z.buffer.getChannelData(0),H=Math.ceil(C.length/(b/s.length));for(let i=0;i<C.length;i=i+H,i)q.push(C[i])});const K=()=>{r.clearRect(0,0,b,w);const z=w/2,C=Math.floor(E/j*b);q.forEach((H,i)=>{const L=H*z;i<=C?r.fillStyle="#8B5CF6":r.fillStyle="rgba(139,92,246,0.3)",r.fillRect(i,z-L,1,L*2)}),requestAnimationFrame(K)};K()},A=[s,E,j,k],e[9]=E,e[10]=j,e[11]=s,e[12]=$,e[13]=A):($=e[12],A=e[13]),I.useEffect($,A);let N;e[14]!==n?(N=n(),e[14]=n,e[15]=N):N=e[15];const Q=N[0];let S;e[16]!==n?(S=n(),e[16]=n,e[17]=S):S=e[17];const M=`radial-gradient(circle, ${Q}${V}), ${S[1]})`,G=`scale(${1+V*.05})`;let D;e[18]!==n?(D=n(),e[18]=n,e[19]=D):D=e[19];const O=`0 0 ${V*60}px ${D[2]}`;let f;e[20]!==G||e[21]!==O||e[22]!==M?(f=v.jsx("div",{className:"m-10 h-40 rounded-2xl transition-all",style:{background:M,transform:G,boxShadow:O}}),e[20]=G,e[21]=O,e[22]=M,e[23]=f):f=e[23];let g;e[24]!==l?(g=()=>l("purple"),e[24]=l,e[25]=g):g=e[25];const U=o==="purple"?"default":"outline";let m;e[26]!==g||e[27]!==U?(m=v.jsx(J,{onClick:g,variant:U,className:"flex-1",size:"lg",children:"Purple"}),e[26]=g,e[27]=U,e[28]=m):m=e[28];let d;e[29]!==l?(d=()=>l("sunset"),e[29]=l,e[30]=d):d=e[30];const W=o==="sunset"?"default":"outline";let h;e[31]!==d||e[32]!==W?(h=v.jsx(J,{onClick:d,variant:W,className:"flex-1",size:"lg",children:"Sunset"}),e[31]=d,e[32]=W,e[33]=h):h=e[33];let p;e[34]!==l?(p=()=>l("ocean"),e[34]=l,e[35]=p):p=e[35];const _=o==="ocean"?"default":"outline";let x;e[36]!==p||e[37]!==_?(x=v.jsx(J,{onClick:p,variant:_,className:"flex-1",size:"lg",children:"Ocean"}),e[36]=p,e[37]=_,e[38]=x):x=e[38];let y;e[39]!==m||e[40]!==h||e[41]!==x?(y=v.jsxs(Z,{className:"w-full",children:[m,h,x]}),e[39]=m,e[40]=h,e[41]=x,e[42]=y):y=e[42];let F;return e[43]!==f||e[44]!==y?(F=v.jsxs("div",{className:"flex flex-col gap-2",children:[f,y]}),e[43]=f,e[44]=y,e[45]=F):F=e[45],F};function ee(t){return[t.tracks,t.visualPreset,t.energy,t.timelinePos,t.totalDuration,t.setVisualPreset,t.setEnergy]}function te(t,e){return t+e}export{re as default};
